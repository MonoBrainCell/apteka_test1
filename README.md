# apteka_test1
 Тестовое задание по сбору данных с сайта

1. Пример выполненного парсинга по заданию находится в файле data.json. В него были собраны данные из следующих категорий товаров: Ватные диски,Термометры,Ингаляторы
2. Прокси были добавлены (scrapy rotating proxies), но из-за медленной работы парсера (использовались только общедоступные проски-адреса) было решено отключить данный функционал (settings.py)
3. Парсер, как и было указано в задании осуществляет сбор данных о товарах по нескольким категориям; но был реализован подход ручного определения целевых категорий из имеющихся на сайте: При запуска парсера в консоли отображается предложение указать целевые категории товаров. Указанные категории проверяются на наличие в списке доступных и в случае их наличия формируются url-ы соответствующих категорий
4. Особенности сбора словаря:
 4.1. "stock"->"count" - при исследовании веб-ресурса не обнаружено возможности определить точное количество товара оставшееся на складе
 4.2. "assets"->"view360" и "assets"->"video" - при исследовании веб-ресурса не обнаружено данных типов информации о товарах
 4.3. "metadata"->"__ description" - описание товара представляли из себя контент различной длины и содержания, поэтому было принятно решение забирать весь html-код, который вложен непосредственно в контейнер элемента, отвечающего за описание товара
 4.4. "metadata"->"СТРАНА ПРОИЗВОДИТЕЛЬ" - единственная характеристика товара, которая наблюдалась в карточках товаров, а также не была зафиксирована в других частях словаря
 4.5. "variants" - при исследовании веб-ресура не было найдено разделения товаров на варианты
5. Описание методов класса парсера:
 5.1. parse - метод запуска процесса парсинга. В рамках метода осуществляется определение целевых категорий товаров (при помощи ввода данных через консоль) и запуск обхода выбранных категорий
 5.2. parse_single_cat - метод осуществляет обход списка карточек товаров отдельной категории
 5.3. parse_goods_card - метод осуществляет парсинг отдельной карточки товара
 5.4. form_price_data - метод используется для формирование части данных, относящихся к цене товара
 5.5. form_assets_data - метод используется для формирование части данных, относящихся к визуальной презентации товара
 5.6. form_metadata_data - метод используется для формирование части данных, относящихся к текстовому описанию товара
 5.7. get_cats_list - метод используется для получения списка всех существующих категорий товаров на сайте
 5.8. parse_cats - метод используется для выделения из текстового контента тега <script> информации о категориях товаров и их преобразования в словарь
 5.9. form_cats_plane_dict - рекурсивный метод используется для формирования одноуровневого(плоского) словаря с категориями; данный словарь используется при выборе категорий товаров и формировании соответствующих им url-ов 
